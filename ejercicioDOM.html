<html>
 <head>
    <meta charset="utf-8">

	  <title>Ejercicio DOM</title>
	  <meta charset="utf-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1">
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	  <style>
	  body{
	  	background-color:lightgray;
	  }
	  </style>
 </head>
<body>
<div class="container">
 
	<h1>Actividad DOM JavaScript</h1>
 <div class="row">
 	<table class="table table-hover">
	  <tr>
	    <td><button class="btn btn-default" onclick="cuentaEnlaces()">Número de enlaces</button></td>
	    <td><button class="btn btn-default" onclick="cuentaParrafos()">Número de párrafos</button></td> 
	    <td>
	    	<input class="form-control" type="text" id="anyadir">
	    	<button class="btn btn-default" onclick="anyadeLista()">Añade elemento a la lista</button>
	    </td>
	    <td><button class="btn btn-default" onclick="reemplazarFila()">Reemplazar fila</button></td>
	    <td><button class="btn btn-default" onclick="copiarFila()">Copiar fila</button></td>
	    <td><button class="btn btn-default" onclick="listaNodos(document.body)">Recorrer Nodos</button></td>
	    <td><button class="btn btn-default" onclick="cambiarEnlace()">Cambiar enlace por google</button></td>
	    <td><button class="btn btn-default" onclick="intercambiarEnlace()">Intercambiar enlace</button></td>
	  </tr>
 	</table>
	
 </div>
 <div class="row">
	<a href="http://www.google.com">Google</a><br>
	<a href="http://www.w3schools.com">W3Schools</a><br>
	<a href="http://www.stackoverflow.com">Stack Overflow</a><br><br>

	<ul>
		<li>Pizza</li>
		<li>Sushi</li>
		<li>Entrecot</li>
	</ul>

	<p>
	Una mañana, tras un sueño intranquilo, Gregorio Samsa se despertó convertido en un monstruoso insecto. Estaba echado de espaldas sobre un duro caparazón y, al alzar la cabeza, vio su vientre convexo y oscuro, surcado por curvadas callosidades, sobre el que casi no se aguantaba la colcha, que estaba a punto de escurrirse hasta el suelo. Numerosas patas, penosamente delgadas en comparación con el grosor normal de sus piernas, se agitaban sin concierto. - ¿Qué me ha ocurrido? No estaba soñando. Su habitación, una habitación normal, aunque muy pequeña, tenía el aspecto habitual.
	</p>

	<p>
	Sobre la mesa había desparramado un muestrario de paños - Samsa era viajante de comercio-, y de la pared colgaba una estampa recientemente recortada de una revista ilustrada y puesta en un marco dorado. La estampa mostraba a una mujer tocada con un gorro de pieles, envuelta en una estola también de pieles, y que, muy erguida, esgrimía un amplio manguito, asimismo de piel, que ocultaba todo su antebrazo. Gregorio miró hacia la ventana; estaba nublado, y sobre el cinc del alféizar repiqueteaban las gotas de lluvia, lo que le hizo sentir una gran melancolía. «Bueno -pensó-; ¿y si siguiese durmiendo un rato y me olvidase de todas estas locuras?
	</p>

	<p>
	» Pero no era posible, pues Gregorio tenía la costumbre de dormir sobre el lado derecho, y su actual estado no le permitía adoptar tal postura. Por más que se esforzara volvía a quedar de espaldas. Intentó en vano esta operación numerosas veces; cerró los ojos para no tener que ver aquella confusa agitación de patas, que no cesó hasta que notó en el costado un dolor leve y punzante, un dolor jamás sentido hasta entonces. - ¡Qué cansada es la profesión que he elegido! -se dijo-. Siempre de viaje. Las preocupaciones son mucho mayores cuando se trabaja fuera, por no hablar de las molestias propias de los viajes: estar pendiente de los enlaces de los trenes; la comida mala, irregular; relaciones que cambian constantemente, que nunca llegan a ser verdaderamente cordiales, y en las que no tienen cabida los sentimientos. ¡Al diablo con todo! Sintió en el vientre una ligera picazón. Lentamente, se estiró sobre la espalda en dirección a la cabecera de la cama, para poder alzar mejor la cabeza. Vio que el sitio que le picaba estaba cubierto de extraños untitos blancos. Intentó rascarse con una pata; pero tuvo que retirarla inmediatamente, pues el roce
	</p>

	<table id="mitabla" class="table table-hover">
	 <tbody id="mitbody">
	  <tr id="tr0">
	    <th>Firstname</th>
	    <th>Lastname</th> 
	    <th>Age</th>
	    <th>Gender</th>
	    <th>Birth Date</th>
	  </tr>
	  <tr id="tr1">
	    <td>Jill</td>
	    <td>Smith</td> 
	    <td>50</td>
	    <td>Male</td>
	    <td>18-12-1983</td>
	  </tr>
	  <tr id="tr2">
	    <td>Eve</td>
	    <td>Jackson</td> 
	    <td>94</td>
	    <td>Female</td>
	    <td>06-02-1986</td>
	  </tr>
	  <tr id="tr3">
	    <td>Carlos</td>
	    <td>Santana</td> 
	    <td>28</td>
	    <td>Female</td>
	    <td>06-02-1988</td>
	  </tr>
	 </tbody>
	</table>
	<ul id="list"></ul>
	<script>
	function cuentaEnlaces (){
		var enlaces = document.getElementsByTagName("a").length;
		alert("Hay "+enlaces+" enlaces.");
	}
	function cuentaParrafos (){
		var parrafos = document.getElementsByTagName("p").length;
		alert("Hay "+parrafos+" párrafos.");
	}
	function anyadeLista(){
		var textoAnyadir = document.getElementById("anyadir").value;
		var node = document.createElement("LI");                 // Create a <li> node
		var textnode = document.createTextNode(textoAnyadir);    // Create a text node
		node.appendChild(textnode);                              // Append the text to <li>
		document.getElementsByTagName("UL")[0].appendChild(node);// Append <li> to <ul> with id="myList"
	}
	function reemplazarFila (){
		//var viejoTr = document.getElementsByTagName("TABLE")[1].getElementsByTagName("TR")[1];
		var nuevoTr = document.getElementsByTagName("TABLE")[1].getElementsByTagName("TR")[3];
		var padre = nuevoTr.parentNode;
		padre.replaceChild(nuevoTr, padre.childNodes[1]);
	}
	/*function copiarFila (){
		var elemento = document.getElementsByTagName("TABLE")[1].getElementsByTagName("TBODY")[0].getElementsByTagName("TR")[3];
		var copiaTr = elemento.cloneNode(true);
		var item = document.getElementsByTagName("TABLE")[1].getElementsByTagName("TBODY")[0];
		//var padre = elemento.parentNode;
		//var suprimir = document.getElementsByTagName("TABLE")[1].getElementsByTagName("TR")[1];
		//suprimir.parentNode.removeChild(suprimir);
		//alert(item);
		//alert(copiaTr);
		//alert(item.childNodes[1]);
		item.replaceChild(copiaTr, item.childNodes[0]);
	}*/
	function copiarFila (){
		var elemento = document.getElementById("tr3");
		var copiaTr = elemento.cloneNode(true);
		var item = document.getElementById("mitbody");
		//var padre = elemento.parentNode;
		//var suprimir = document.getElementsByTagName("TABLE")[1].getElementsByTagName("TR")[1];
		//suprimir.parentNode.removeChild(suprimir);
		//alert(item);
		//alert(copiaTr);
		//for(var i=0;i<=10;i++)
		//	alert(document.getElementById("mitabla").rows[i]);

		item.replaceChild(copiaTr, item.childNodes[3]);
	}

	/*function copiarFila (){
		var elemento = document.getElementById("tr3");
		var copiaTr = elemento.cloneNode(true);
		var item = document.getElementById("mitabla");
		//var padre = elemento.parentNode;
		//var suprimir = document.getElementsByTagName("TABLE")[1].getElementsByTagName("TR")[1];
		//suprimir.parentNode.removeChild(suprimir);
		//alert(item);
		//alert(copiaTr);
		//for(var i=0;i<=10;i++)
			alert(item.rows[1]);

		item.replaceChild(copiaTr, item.rows[1]);
	}*/

	function listaNodos (nodo){

		if(nodo.nodeType!=3){
			console.log(nodo.nodeType);
			console.log(nodo.nodeName);
		}

		if(nodo.childNodes.length > 0){
			for(var i=0;i<nodo.childNodes.length;i++){
				listaNodos(nodo.childNodes[i]);
			}
		}
		return;

	}

	function cambiarEnlace () {
		document.getElementsByTagName("A")[0].attributes[0].nodeValue="http://www.youtube.com";
		
		var textnode = document.createTextNode("Youtube");
		var viejoElemento = document.getElementsByTagName("A")[0];
		viejoElemento.replaceChild(textnode, viejoElemento.childNodes[0]);
	}

	function intercambiarEnlace () {
		
	}

	</script>
 </div>
</div>
</body>
</html>