<html>
 <head>
    <meta charset="utf-8">

	  <title>Examen DOM</title>
	  <meta charset="utf-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1">
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	  <style>
	  body{
	  	background-color:lightgray;
	  }
	  </style>
 </head>
<body>
<div class="container">
 
	<h1>Examen DOM JavaScript</h1>
	
 <div class="row">

 	Tipo:
    <select id="tipo" name="select" onchange="cambiaSelect()">
    	<option disabled selected value> -- Selecciona una -- </option>
    	<option value="Hogar">Hogar</option>
    	<option value="Musica">Música</option>
    	<option value="Deportes">Deportes</option>
    </select><br>

	Producto:
    <select id="producto" name="select">
    	<option id="o1"></option>
    	<option id="o2"></option>
    	<option id="o3"></option>
    </select><br>

	Cantidad:
    <input type="number" id="cantidad" placeholder="Introduce tu cantidad"><br>

	<button class="btn btn-default" onclick="carrito()">Añadir al carrito</button>
	<button class="btn btn-default" onclick="borrar()">Borrar</button><br>

	<table id="mitabla" class="table table-hover">
	<thead>
	  <tr>
	  	<th>Tipo</th>
	    <th>Producto</th> 
	    <th>Cantidad</th>
	  </tr>
	</thead>
	 <tbody id="mitbody">
	  <tr>
	    <td id="ttipo"></td>
	    <td id="tproducto"></td> 
	    <td id="tcantidad"></td>
	  </tr>
	 </tbody>
	</table>
	<script>

	// Actualiza los valores del segundo select cuando cambia el primero (gracias al onchange())
	function cambiaSelect (){
		var valor = document.getElementById("tipo").value;
		//console.log(valor);

		switch(valor){
			case "Hogar":
				document.getElementById("o1").innerHTML = "Mesa";
				document.getElementById("o2").innerHTML = "Silla";
				document.getElementById("o3").innerHTML = "Florero";

				document.getElementById("o1").setAttribute('value','Mesa');
				document.getElementById("o2").setAttribute('value','Silla');
				document.getElementById("o3").setAttribute('value','Florero');

			break;
			case "Musica":
				document.getElementById("o1").innerHTML = "Teclado";
				document.getElementById("o2").innerHTML = "Guiatrra";
				document.getElementById("o3").innerHTML = "Bajo";

				document.getElementById("o1").setAttribute('value','Teclado');
				document.getElementById("o2").setAttribute('value','Guitarra');
				document.getElementById("o3").setAttribute('value','Bajo');
			break;
			case "Deportes":
				document.getElementById("o1").innerHTML = "Balón";
				document.getElementById("o2").innerHTML = "Playeras";
				document.getElementById("o3").innerHTML = "Raquetas";

				document.getElementById("o1").setAttribute('value','Balon');
				document.getElementById("o2").setAttribute('value','Playeras');
				document.getElementById("o3").setAttribute('value','Raquetas');
			break;
			default:
				console.log("Error en el switch.\n");
		}

	}

	// Función que controla las acciones al apretar el boton carrito
	function carrito(){
		var tipo = document.getElementById("tipo").value;
		var producto = document.getElementById("producto").value;
		var cantidad = document.getElementById("cantidad").value;
		//console.log(tipo);
		//console.log(producto);
		//console.log(cantidad);

		var nodeTR = document.createElement("TR");

		var nodeT = document.createElement("TD");
		var textnode = document.createTextNode(tipo);
		nodeT.appendChild(textnode);
		nodeTR.appendChild(nodeT);

		var nodeT = document.createElement("TD");
		var textnode = document.createTextNode(producto);
		nodeT.appendChild(textnode);
		nodeTR.appendChild(nodeT);

		var nodeT = document.createElement("TD");
		var textnode = document.createTextNode(cantidad);
		nodeT.appendChild(textnode);
		nodeTR.appendChild(nodeT);

		document.getElementById("mitbody").appendChild(nodeTR);
	}

	// Borra todos los elementos del tbody al pulsar el boton de borrar
	function borrar(){
		var miNodo = document.getElementById("mitbody");

		while (miNodo.firstChild) {
		    miNodo.removeChild(miNodo.firstChild);
		}
	}
	
	</script>
 </div>
</div>
</body>
</html>